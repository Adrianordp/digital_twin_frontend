{"openapi":"3.1.0","info":{"title":"Dual-System Digital Twin","version":"0.1.0"},"paths":{"/simulate/init":{"post":{"tags":["simulation"],"summary":"Init Simulation","description":"Initialize a new simulation session.","operationId":"init_simulation_simulate_init_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionInitRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionInitResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/simulate/step":{"post":{"tags":["simulation"],"summary":"Step Simulation","description":"Advance the simulation by one step and return the new state.","operationId":"step_simulation_simulate_step_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StepRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/simulate/state/{session_id}":{"get":{"tags":["simulation"],"summary":"Get State","description":"Get the current state of a simulation session.","operationId":"get_state_simulate_state__session_id__get","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/simulate/history/{session_id}":{"get":{"tags":["simulation"],"summary":"Get History","description":"Get the history of a simulation session.","operationId":"get_history_simulate_history__session_id__get","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HistoryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/simulate/logs/{session_id}":{"get":{"tags":["simulation"],"summary":"Get Logs","description":"Get the logs of a simulation session.","operationId":"get_logs_simulate_logs__session_id__get","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LogsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/simulate/reset":{"post":{"tags":["simulation"],"summary":"Reset Simulation","description":"Reset a simulation session, optionally with new parameters.","operationId":"reset_simulation_simulate_reset_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResetRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/simulate/params":{"patch":{"tags":["simulation"],"summary":"Update Params","description":"Update model parameters for a simulation session.","operationId":"update_params_simulate_params_patch","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateParamsRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HistoryResponse":{"properties":{"history":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"History"}},"type":"object","required":["history"],"title":"HistoryResponse","description":"Response payload containing the simulation history."},"LogsResponse":{"properties":{"logs":{"items":{"type":"string"},"type":"array","title":"Logs"}},"type":"object","required":["logs"],"title":"LogsResponse","description":"Response payload containing the simulation logs."},"ResetRequest":{"properties":{"session_id":{"type":"string","format":"uuid","title":"Session Id"},"params":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Params"}},"type":"object","required":["session_id"],"title":"ResetRequest","description":"Request payload for resetting a simulation session.\n\nAttributes:\n    session_id (UUID): The session identifier.\n    params (dict, optional): New model parameters for reset."},"SessionInitRequest":{"properties":{"model_name":{"type":"string","title":"Model Name","example":"water_tank"},"params":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Params"}},"type":"object","required":["model_name"],"title":"SessionInitRequest","description":"Request payload for initializing a simulation session.\n\nAttributes:\n    model_name (str): The name of the model to simulate (e.g.,\n        'water_tank').\n    params (dict, optional): Model-specific initialization parameters."},"SessionInitResponse":{"properties":{"session_id":{"type":"string","format":"uuid","title":"Session Id"}},"type":"object","required":["session_id"],"title":"SessionInitResponse","description":"Response payload containing the session ID for a new simulation."},"StateResponse":{"properties":{"state":{"additionalProperties":true,"type":"object","title":"State"}},"type":"object","required":["state"],"title":"StateResponse","description":"Response payload containing the current state of the simulation."},"StepRequest":{"properties":{"session_id":{"type":"string","format":"uuid","title":"Session Id"},"control_input":{"type":"number","title":"Control Input"},"delta_time":{"type":"number","title":"Delta Time","default":1.0}},"type":"object","required":["session_id","control_input"],"title":"StepRequest","description":"Request payload for advancing a simulation by one step.\n\nAttributes:\n    session_id (UUID): The session identifier.\n    control_input (Any): The control input for the model.\n    delta_time (float, optional): Time step duration. Defaults to 1.0."},"UpdateParamsRequest":{"properties":{"session_id":{"type":"string","format":"uuid","title":"Session Id"},"params":{"additionalProperties":true,"type":"object","title":"Params"}},"type":"object","required":["session_id","params"],"title":"UpdateParamsRequest","description":"Request payload for updating model parameters in a session.\n\nAttributes:\n    session_id (UUID): The session identifier.\n    params (dict): Parameters to update."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}